<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sayho.workoutcalendar.dao.ChartDao">
  
  <select id="getMonthlyChartData" parameterType="java.util.Map" resultType="java.util.Map">
    SELECT SEQ, USR_ID, REG_DT, WO_DT, PART_MAIN_COD, REST_TIME_SEC, SETS, REPS, WEIGHT, VOLUME
    FROM ICTWORKOUTRECORD
    WHERE USR_ID = 'sehoakasayho'
    AND WO_DT BETWEEN TO_CHAR(TO_DATE(#{startDate}::VARCHAR, 'YYYYMMDD') + CONCAT(#{mohths}::VARCHAR, ' MONTHS')::INTERVAL, 'YYYYMMDD') AND #{startDate}::VARCHAR
  </select>
</mapper>